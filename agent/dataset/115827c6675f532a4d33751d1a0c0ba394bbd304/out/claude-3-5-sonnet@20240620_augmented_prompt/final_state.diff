diff --git a/pom.xml b/pom.xml
index 0189595..197af39 100644
--- a/pom.xml
+++ b/pom.xml
@@ -88,9 +88,8 @@
   <properties>
     <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
     <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
-    <maven.compiler.source>11</maven.compiler.source>
-    <maven.compiler.target>11</maven.compiler.target>
-    <dropwizard.version>2.0.17</dropwizard.version>
+-    <dropwizard.version>2.0.28</dropwizard.version>
++    <dropwizard.version>3.0.0</dropwizard.version>
     <pac4j.version>4.5.6</pac4j.version>
     <jax-rs-pac4j.version>4.0.0</jax-rs-pac4j.version>
     <jee-pac4j.version>5.0.0</jee-pac4j.version>
@@ -99,9 +98,44 @@
   <dependencyManagement>
     <dependencies>
       <dependency>
+        <groupId>io.dropwizard</groupId>
+        <artifactId>dropwizard-dependencies</artifactId>
+        <version>${dropwizard.version}</version>
+        <type>pom</type>
+        <scope>import</scope>
+      </dependency>
+    </dependencies>
+    <dependencies>
+      <dependency>
+        <groupId>io.dropwizard</groupId>
+        <artifactId>dropwizard-dependencies</artifactId>
+        <version>${dropwizard.version}</version>
+        <type>pom</type>
+        <scope>import</scope>
+      </dependency>
+    </dependencies>
+    <dependencies>
+      <dependency>
+        <groupId>io.dropwizard</groupId>
+        <artifactId>dropwizard-dependencies</artifactId>
+        <version>${dropwizard.version}</version>
+        <type>pom</type>
+        <scope>import</scope>
+      </dependency>
+    </dependencies>
+  </dependencyManagement>
+
+    <dependencies>
+    <dependencies>
+<!-- <dependency>
         <groupId>io.dropwizard</groupId>
         <artifactId>dropwizard-bom</artifactId>
         <version>${dropwizard.version}</version>
+</dependency> -->
+      <dependency>
+        <groupId>io.dropwizard</groupId>
+        <artifactId>dropwizard-dependencies</artifactId>
+        <version>${dropwizard.version}</version>
         <type>pom</type>
         <scope>import</scope>
       </dependency>
@@ -175,6 +209,11 @@
       <dependency>
         <groupId>jakarta.servlet</groupId>
         <artifactId>jakarta.servlet-api</artifactId>
+<version>5.0.0</version>
+      </dependency>
+      <dependency>
+        <groupId>io.dropwizard</groupId>
+<artifactId>dropwizard-auth</artifactId>
         <version>6.0.0</version>
       </dependency>
       <!-- Required for dependency convergence -->
@@ -206,9 +245,9 @@
         <groupId>org.objenesis</groupId>
         <artifactId>objenesis</artifactId>
         <version>3.1</version>
-      </dependency>
+</dependency> -->
       <dependency>
-        <groupId>org.pac4j</groupId>
+  <groupId>org.pac4j</groupId>
         <artifactId>pac4j-core</artifactId>
         <version>${pac4j.version}</version>
       </dependency>
@@ -228,106 +267,203 @@
         <artifactId>mockito-core</artifactId>
         <version>3.12.4</version>
       </dependency>
+      <dependency>
+        <groupId>jakarta.servlet</groupId>
+        <artifactId>jakarta.servlet-api</artifactId>
+<version>5.0.0</version>
+      </dependency>
+      <dependency>
+        <groupId>io.dropwizard</groupId>
+<artifactId>dropwizard-auth</artifactId>
+<version>5.0.0</version>
+      </dependency>
     </dependencies>
   </dependencyManagement>
 
-  <dependencies>
-    <dependency>
-      <groupId>io.dropwizard</groupId>
+    <dependencies>
+<!-- <dependency>
+        <groupId>io.dropwizard</groupId>
       <artifactId>dropwizard-core</artifactId>
       <scope>provided</scope>
-    </dependency>
-    <dependency>
-      <groupId>org.pac4j</groupId>
-      <artifactId>pac4j-core</artifactId>
-    </dependency>
-    <dependency>
-      <groupId>org.pac4j</groupId>
+</dependency> -->
+      <dependency>
+  <groupId>org.pac4j</groupId>
+        <artifactId>pac4j-core</artifactId>
+      </dependency>
+      <dependency>
+        <groupId>jakarta.servlet</groupId>
+        <artifactId>jakarta.servlet-api</artifactId>
+<version>5.0.0</version>
+      </dependency>
+      <dependency>
+        <groupId>jakarta.servlet</groupId>
+        <artifactId>jakarta.servlet-api</artifactId>
+<version>5.0.0</version>
+      </dependency>
+      <dependency>
+  <groupId>org.pac4j</groupId>
       <artifactId>pac4j-config</artifactId>
-      <version>${pac4j.version}</version>
-    </dependency>
-    <dependency>
-      <groupId>org.pac4j</groupId>
+        <version>${pac4j.version}</version>
+      </dependency>
+      <dependency>
+        <groupId>jakarta.servlet</groupId>
+        <artifactId>jakarta.servlet-api</artifactId>
+<version>5.0.0</version>
+      </dependency>
+      <dependency>
+        <groupId>jakarta.servlet</groupId>
+        <artifactId>jakarta.servlet-api</artifactId>
+<version>5.0.0</version>
+      </dependency>
+      <dependency>
+  <groupId>org.pac4j</groupId>
       <artifactId>jersey-pac4j</artifactId>
       <version>${jax-rs-pac4j.version}</version>
       <exclusions>
         <exclusion>
-          <groupId>org.pac4j</groupId>
-          <artifactId>pac4j-core</artifactId>
+  <groupId>org.pac4j</groupId>
+        <artifactId>pac4j-core</artifactId>
         </exclusion>
       </exclusions>
-    </dependency>
-    <dependency>
-      <groupId>org.pac4j</groupId>
+      </dependency>
+      <dependency>
+        <groupId>jakarta.servlet</groupId>
+        <artifactId>jakarta.servlet-api</artifactId>
+<version>5.0.0</version>
+      </dependency>
+      <dependency>
+        <groupId>jakarta.servlet</groupId>
+        <artifactId>jakarta.servlet-api</artifactId>
+<version>5.0.0</version>
+      </dependency>
+      <dependency>
+  <groupId>org.pac4j</groupId>
       <artifactId>jee-pac4j</artifactId>
       <version>${jee-pac4j.version}</version>
       <exclusions>
         <exclusion>
-          <groupId>org.pac4j</groupId>
-          <artifactId>pac4j-core</artifactId>
+  <groupId>org.pac4j</groupId>
+        <artifactId>pac4j-core</artifactId>
         </exclusion>
       </exclusions>
-    </dependency>
-    <dependency>
-      <groupId>org.pac4j</groupId>
+      </dependency>
+      <dependency>
+        <groupId>jakarta.servlet</groupId>
+        <artifactId>jakarta.servlet-api</artifactId>
+<version>5.0.0</version>
+      </dependency>
+      <dependency>
+        <groupId>jakarta.servlet</groupId>
+        <artifactId>jakarta.servlet-api</artifactId>
+<version>5.0.0</version>
+      </dependency>
+      <dependency>
+  <groupId>org.pac4j</groupId>
       <artifactId>pac4j-http</artifactId>
-      <version>${pac4j.version}</version>
+        <version>${pac4j.version}</version>
       <scope>test</scope>
-    </dependency>
-    <dependency>
-      <groupId>org.pac4j</groupId>
+      </dependency>
+      <dependency>
+        <groupId>jakarta.servlet</groupId>
+        <artifactId>jakarta.servlet-api</artifactId>
+<version>5.0.0</version>
+      </dependency>
+      <dependency>
+        <groupId>jakarta.servlet</groupId>
+        <artifactId>jakarta.servlet-api</artifactId>
+<version>5.0.0</version>
+      </dependency>
+      <dependency>
+  <groupId>org.pac4j</groupId>
       <artifactId>pac4j-oauth</artifactId>
-      <version>${pac4j.version}</version>
+        <version>${pac4j.version}</version>
       <scope>test</scope>
-    </dependency>
-    <dependency>
-      <groupId>io.dropwizard</groupId>
+</dependency> -->
+<!-- <dependency>
+        <groupId>io.dropwizard</groupId>
       <artifactId>dropwizard-testing</artifactId>
       <scope>test</scope>
-    </dependency>
-    <dependency>
-      <groupId>org.assertj</groupId>
-      <artifactId>assertj-core</artifactId>
+      </dependency>
+      <dependency>
+        <groupId>org.assertj</groupId>
+        <artifactId>assertj-core</artifactId>
       <scope>test</scope>
-    </dependency>
-    <dependency>
-      <groupId>org.mockito</groupId>
-      <artifactId>mockito-core</artifactId>
+      </dependency>
+      <dependency>
+        <groupId>org.mockito</groupId>
+        <artifactId>mockito-core</artifactId>
       <scope>test</scope>
-    </dependency>
-  </dependencies>
+      </dependency>
+      <dependency>
+        <groupId>jakarta.servlet</groupId>
+        <artifactId>jakarta.servlet-api</artifactId>
+<version>5.0.0</version>
+      </dependency>
+      <dependency>
+        <groupId>io.dropwizard</groupId>
+<artifactId>dropwizard-auth</artifactId>
+<version>5.0.0</version>
+      </dependency>
+      <dependency>
+        <groupId>io.dropwizard</groupId>
+        <artifactId>dropwizard-dependencies</artifactId>
+        <version>${dropwizard.version}</version>
+        <type>pom</type>
+        <scope>import</scope>
+      </dependency>
+      <dependency>
+        <groupId>jakarta.servlet</groupId>
+        <artifactId>jakarta.servlet-api</artifactId>
+<version>5.0.0</version>
+      </dependency>
+      <dependency>
+        <groupId>io.dropwizard</groupId>
+<artifactId>dropwizard-auth</artifactId>
+<version>5.0.0</version>
+      </dependency>
+    </dependencies>
 
-  <build>
-    <plugins>
-      <plugin>
+<build>
+<plugins>
+<plugin>
         <groupId>org.apache.maven.plugins</groupId>
         <artifactId>maven-compiler-plugin</artifactId>
         <version>3.10.1</version>
-      </plugin>
-      <plugin>
+</plugin>
+<plugin>
         <groupId>org.apache.maven.plugins</groupId>
         <artifactId>maven-source-plugin</artifactId>
         <version>3.2.1</version>
-      </plugin>
-      <plugin>
+</plugin>
+<plugin>
         <groupId>org.apache.maven.plugins</groupId>
         <artifactId>maven-javadoc-plugin</artifactId>
         <version>3.4.0</version>
-      </plugin>
-      <plugin>
+</plugin>
+<plugin>
         <groupId>com.github.spotbugs</groupId>
         <artifactId>spotbugs-maven-plugin</artifactId>
         <version>4.7.0.0</version>
-        <dependencies>
+    <dependencies>
           <!-- overwrite dependency on spotbugs if you want to specify the version of spotbugs -->
-          <dependency>
-            <groupId>com.github.spotbugs</groupId>
+      <dependency>
+        <groupId>com.github.spotbugs</groupId>
             <artifactId>spotbugs</artifactId>
             <version>4.6.0</version>
-          </dependency>
-        </dependencies>
-      </plugin>
-      <plugin>
+      </dependency>
+      <dependency>
+        <groupId>jakarta.servlet</groupId>
+        <artifactId>jakarta.servlet-api</artifactId>
+<version>5.0.0</version>
+      </dependency>
+      <dependency>
+        <groupId>io.dropwizard</groupId>
+<artifactId>dropwizard-auth</artifactId>
+<version>5.0.0</version>
+      </dependency>
+    </dependencies>
+</plugin>
+<plugin>
         <groupId>org.apache.maven.plugins</groupId>
         <artifactId>maven-pmd-plugin</artifactId>
         <version>3.14.0</version>
@@ -339,35 +475,35 @@
           <execution>
             <id>run-pmd</id>
             <phase>compile</phase>
-            <goals>
+<goals>
               <goal>check</goal>
-            </goals>
+</goals>
           </execution>
         </executions>
-      </plugin>
-      <plugin>
+</plugin>
+<plugin>
         <groupId>org.apache.maven.plugins</groupId>
         <artifactId>maven-enforcer-plugin</artifactId>
         <version>3.0.0-M3</version>
         <executions>
           <execution>
             <id>dependency-convergence</id>
-            <configuration>
-              <rules>
+        <configuration>
+<rules>
                 <dependencyConvergence />
-              </rules>
-            </configuration>
-            <goals>
+</rules>
+        </configuration>
+<goals>
               <goal>enforce</goal>
-            </goals>
+</goals>
           </execution>
         </executions>
-      </plugin>
+</plugin>
     </plugins>
-  </build>
+</build>
 
   <profiles>
-    <profile>
+<profile>
       <id>release-sign-artifacts</id>
       <activation>
         <property>
@@ -375,24 +511,24 @@
           <value>true</value>
         </property>
       </activation>
-      <build>
-        <plugins>
-          <plugin>
-            <groupId>org.apache.maven.plugins</groupId>
+<build>
+<plugins>
+<plugin>
+        <groupId>org.apache.maven.plugins</groupId>
             <artifactId>maven-gpg-plugin</artifactId>
             <version>1.6</version>
-            <executions>
-              <execution>
+        <executions>
+          <execution>
                 <id>sign-artifacts</id>
                 <phase>verify</phase>
-                <goals>
+<goals>
                   <goal>sign</goal>
-                </goals>
-              </execution>
-            </executions>
-          </plugin>
-        </plugins>
-      </build>
+</goals>
+          </execution>
+        </executions>
+</plugin>
+    </plugins>
+</build>
     </profile>
   </profiles>
 
diff --git a/src/main/java/org/pac4j/dropwizard/J2EHelper.java b/src/main/java/org/pac4j/dropwizard/J2EHelper.java
index 98898e9..20e7391 100644
--- a/src/main/java/org/pac4j/dropwizard/J2EHelper.java
+++ b/src/main/java/org/pac4j/dropwizard/J2EHelper.java
@@ -2,15 +2,15 @@ package org.pac4j.dropwizard;
 
 import java.util.EnumSet;
 
-import javax.servlet.DispatcherType;
-import javax.servlet.FilterRegistration;
+import jakarta.servlet.DispatcherType;
+import jakarta.servlet.FilterRegistration;
 
 import org.pac4j.core.config.Config;
 import org.pac4j.dropwizard.Pac4jFactory.ServletCallbackFilterConfiguration;
 import org.pac4j.dropwizard.Pac4jFactory.ServletLogoutFilterConfiguration;
 import org.pac4j.dropwizard.Pac4jFactory.ServletSecurityFilterConfiguration;
 
-import io.dropwizard.setup.Environment;
+import io.dropwizard.core.setup.Environment;
 import org.pac4j.jee.filter.AbstractConfigFilter;
 import org.pac4j.jee.filter.CallbackFilter;
 import org.pac4j.jee.filter.LogoutFilter;