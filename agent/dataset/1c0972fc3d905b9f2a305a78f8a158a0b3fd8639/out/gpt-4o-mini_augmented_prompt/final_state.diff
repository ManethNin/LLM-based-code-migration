diff --git a/docs/reports/4.2-SNAPSHOT/license-maven-plugin/license-plugin-report.xml b/docs/reports/4.2-SNAPSHOT/license-maven-plugin/license-plugin-report.xml
index 8942ba2..8ec30e6 100644
--- a/docs/reports/4.2-SNAPSHOT/license-maven-plugin/license-plugin-report.xml
+++ b/docs/reports/4.2-SNAPSHOT/license-maven-plugin/license-plugin-report.xml
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no"?>
-<licensePluginReport goal="CHECK" timestamp="1651191761918">
+<licensePluginReport goal="CHECK" timestamp="1722538897608">
     <module artifactId="license-maven-plugin" groupId="com.mycila" version="4.2-SNAPSHOT"/>
     <files>
         <file path="pom.xml" result="PRESENT"/>
diff --git a/docs/reports/4.2-SNAPSHOT/license-plugin-report.xml b/docs/reports/4.2-SNAPSHOT/license-plugin-report.xml
index ebec4e5..3dd8871 100644
--- a/docs/reports/4.2-SNAPSHOT/license-plugin-report.xml
+++ b/docs/reports/4.2-SNAPSHOT/license-plugin-report.xml
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no"?>
-<licensePluginReport goal="CHECK" timestamp="1651191726202">
+<licensePluginReport goal="CHECK" timestamp="1722538891863">
     <module artifactId="license-maven-plugin-parent" groupId="com.mycila" version="4.2-SNAPSHOT"/>
     <files>
         <file path="pom.xml" result="PRESENT"/>
diff --git a/license-maven-plugin/src/main/java/com/mycila/maven/plugin/license/dependencies/MavenProjectLicenses.java b/license-maven-plugin/src/main/java/com/mycila/maven/plugin/license/dependencies/MavenProjectLicenses.java
index 8046747..8e103b6 100755
--- a/license-maven-plugin/src/main/java/com/mycila/maven/plugin/license/dependencies/MavenProjectLicenses.java
+++ b/license-maven-plugin/src/main/java/com/mycila/maven/plugin/license/dependencies/MavenProjectLicenses.java
@@ -67,7 +67,7 @@ public class MavenProjectLicenses implements LicenseMap, LicenseMessage {
                               final ArtifactFilter filter, final Log log) {
     this.setProjects(projects);
     this.setBuildingRequest(buildingRequest);
-    this.setGraph(graph);
+    this.setGraph(Optional.ofNullable(graph).orElse(new DependencyGraphBuilder()));
     this.setFilter(filter);
     this.setProjectBuilder(projectBuilder);
     this.setLog(log);
@@ -183,7 +183,7 @@ public class MavenProjectLicenses implements LicenseMap, LicenseMessage {
   }
 
   private void setGraph(DependencyGraphBuilder graph) {
-    this.graph = Optional.ofNullable(graph).orElse(new Maven31DependencyGraphBuilder());
+    this.graph = Optional.ofNullable(graph).orElse(new DependencyGraphBuilder());
   }
 
   private ProjectBuilder getProjectBuilder() {