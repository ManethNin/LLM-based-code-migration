diff --git a/core/pom.xml b/core/pom.xml
index 0ea8e05cd..dc568d051 100644
--- a/core/pom.xml
+++ b/core/pom.xml
@@ -240,6 +240,16 @@
                 <groupId>org.apache.maven.plugins</groupId>
                 <artifactId>maven-surefire-plugin</artifactId>
                 <version>2.22.2</version>
+                <configuration>
+                    <argLine>
+                        --add-opens java.base/java.lang=ALL-UNNAMED
+                        --add-opens java.base/java.util=ALL-UNNAMED
+                        --add-opens java.base/java.security=ALL-UNNAMED
+                        --add-opens java.base/java.io=ALL-UNNAMED
+                        --add-opens java.base/java.util.jar=ALL-UNNAMED
+                        --add-opens java.base/sun.security.util=ALL-UNNAMED
+                    </argLine>
+                </configuration>
             </plugin>
             <plugin>
                 <groupId>org.apache.maven.plugins</groupId>
diff --git a/nis/src/main/java/org/nem/specific/deploy/appconfig/NisAppConfig.java b/nis/src/main/java/org/nem/specific/deploy/appconfig/NisAppConfig.java
index a59e951b6..19acb3a7c 100644
--- a/nis/src/main/java/org/nem/specific/deploy/appconfig/NisAppConfig.java
+++ b/nis/src/main/java/org/nem/specific/deploy/appconfig/NisAppConfig.java
@@ -105,12 +105,12 @@ public class NisAppConfig {
 		final Properties prop = new Properties();
 		prop.load(NisAppConfig.class.getClassLoader().getResourceAsStream("db.properties"));
 
-		final org.flywaydb.core.Flyway flyway = new Flyway();
-		flyway.setDataSource(this.dataSource());
-		flyway.setClassLoader(NisAppConfig.class.getClassLoader());
-		flyway.setLocations(prop.getProperty("flyway.locations"));
-		flyway.setValidateOnMigrate(Boolean.valueOf(prop.getProperty("flyway.validate")));
-		return flyway;
+		return Flyway.configure()
+				.dataSource(this.dataSource())
+				.classLoader(NisAppConfig.class.getClassLoader())
+				.locations(prop.getProperty("flyway.locations"))
+				.validateOnMigrate(Boolean.valueOf(prop.getProperty("flyway.validate")))
+				.load();
 	}
 
 	@Bean