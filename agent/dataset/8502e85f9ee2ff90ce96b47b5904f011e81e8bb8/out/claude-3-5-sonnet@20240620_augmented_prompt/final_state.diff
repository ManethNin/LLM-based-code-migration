diff --git a/nis/src/main/java/org/nem/specific/deploy/appconfig/NisAppConfig.java b/nis/src/main/java/org/nem/specific/deploy/appconfig/NisAppConfig.java
index 323eccaa8..24c9a9cc5 100644
--- a/nis/src/main/java/org/nem/specific/deploy/appconfig/NisAppConfig.java
+++ b/nis/src/main/java/org/nem/specific/deploy/appconfig/NisAppConfig.java
@@ -101,15 +101,16 @@ public class NisAppConfig {
 	}
 
 	@Bean(initMethod = "migrate")
-	public Flyway flyway() throws IOException {
+	public Flyway flyway(final DataSource dataSource) throws IOException {
 		final Properties prop = new Properties();
 		prop.load(NisAppConfig.class.getClassLoader().getResourceAsStream("db.properties"));
 
-		final org.flywaydb.core.Flyway flyway = new Flyway();
-		flyway.setDataSource(this.dataSource());
-		flyway.setClassLoader(NisAppConfig.class.getClassLoader());
-		flyway.setLocations(prop.getProperty("flyway.locations"));
-		flyway.setValidateOnMigrate(Boolean.valueOf(prop.getProperty("flyway.validate")));
+		final Flyway flyway = Flyway.configure()
+				.dataSource(dataSource)
+				.classLoader(NisAppConfig.class.getClassLoader())
+				.locations(prop.getProperty("flyway.locations"))
+				.validateOnMigrate(Boolean.valueOf(prop.getProperty("flyway.validate")))
+				.load();
 		return flyway;
 	}
 