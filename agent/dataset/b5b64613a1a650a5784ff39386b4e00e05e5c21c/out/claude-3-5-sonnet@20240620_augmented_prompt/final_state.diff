diff --git a/src/main/java/org/jfrog/hudson/pipeline/declarative/steps/CreateJFrogInstanceStep.java b/src/main/java/org/jfrog/hudson/pipeline/declarative/steps/CreateJFrogInstanceStep.java
index 0fd93add..f6d0132a 100644
--- a/src/main/java/org/jfrog/hudson/pipeline/declarative/steps/CreateJFrogInstanceStep.java
+++ b/src/main/java/org/jfrog/hudson/pipeline/declarative/steps/CreateJFrogInstanceStep.java
@@ -19,7 +19,7 @@ import javax.annotation.Nonnull;
 import java.io.IOException;
 
 import static org.apache.commons.lang3.StringUtils.isAllBlank;
-import static org.apache.commons.lang3.StringUtils.isNotBlank;
+import static org.apache.commons.lang3.StringUtils.*;
 
 @SuppressWarnings("unused")
 public class CreateJFrogInstanceStep extends AbstractStepImpl {
@@ -137,7 +137,7 @@ public class CreateJFrogInstanceStep extends AbstractStepImpl {
          * @throws IOException if there is an illegal step configuration.
          */
         private void checkInputs(JFrogPlatformInstance server) throws IOException {
-            if (isAllBlank(server.getUrl(), server.getArtifactory().getUrl(), server.getDistribution().getUrl(),
+            if (isAllEmpty(server.getUrl(), server.getArtifactory().getUrl(), server.getDistribution().getUrl(),
                     step.url, step.artifactoryUrl, step.distributionUrl)) {
                 throw new IOException("Server URL is missing");
             }
diff --git a/src/main/java/org/jfrog/hudson/pipeline/declarative/steps/CreateServerStep.java b/src/main/java/org/jfrog/hudson/pipeline/declarative/steps/CreateServerStep.java
index 219cd7f8..cf2b376c 100644
--- a/src/main/java/org/jfrog/hudson/pipeline/declarative/steps/CreateServerStep.java
+++ b/src/main/java/org/jfrog/hudson/pipeline/declarative/steps/CreateServerStep.java
@@ -126,7 +126,7 @@ public class CreateServerStep extends AbstractStepImpl {
          * @throws IOException if there is an illegal step configuration.
          */
         private void checkInputs(ArtifactoryServer server) throws IOException {
-            if (isAllBlank(server.getUrl(), step.url)) {
+            if (isAllEmpty(server.getUrl(), step.url)) {
                 throw new IOException("Server URL is missing");
             }
             if (isNotBlank(step.credentialsId)) {
diff --git a/src/main/java/org/jfrog/hudson/release/scm/perforce/P4Manager.java b/src/main/java/org/jfrog/hudson/release/scm/perforce/P4Manager.java
index f7dd9004..4d935d3e 100644
--- a/src/main/java/org/jfrog/hudson/release/scm/perforce/P4Manager.java
+++ b/src/main/java/org/jfrog/hudson/release/scm/perforce/P4Manager.java
@@ -41,7 +41,7 @@ public class P4Manager extends AbstractPerforceManager<PerforceScm> {
         try {
             String clientString = getClientString();
             if (connection.isClient(clientString)) {
-                ClientHelper perforceClient = new ClientHelper(credentials, buildListener, clientString, StandardCharsets.UTF_8.toString());
+                ClientHelper perforceClient = new ClientHelper(build.getParent(), credentials, buildListener, null);
                 IClient client = perforceClient.getClient();
                 try {
                     this.perforce = new PerforceClient(server, client);