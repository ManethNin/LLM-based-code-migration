diff --git a/lib/src/main/java/io/jenkins/tools/incrementals/lib/UpdateChecker.java b/lib/src/main/java/io/jenkins/tools/incrementals/lib/UpdateChecker.java
index 94dd49b..b6021ec 100644
--- a/lib/src/main/java/io/jenkins/tools/incrementals/lib/UpdateChecker.java
+++ b/lib/src/main/java/io/jenkins/tools/incrementals/lib/UpdateChecker.java
@@ -236,8 +236,8 @@ public final class UpdateChecker {
      */
     private static boolean isAncestor(GitHubCommit ghc, String branch) throws Exception {
         try {
-            GHCompare.Status status = GitHub.connect().getRepository(ghc.owner + '/' + ghc.repo).getCompare(branch, ghc.hash).status;
-            return status == GHCompare.Status.identical || status == GHCompare.Status.behind;
+            GHCompare compare = GitHub.connect().getRepository(ghc.owner + '/' + ghc.repo).getCompare(branch, ghc.hash);
+            return compare.getAheadBy() == 0 || compare.getBehindBy() > 0;
         } catch (FileNotFoundException x) {
             // For example, that branch does not exist in this repository.
             return false;