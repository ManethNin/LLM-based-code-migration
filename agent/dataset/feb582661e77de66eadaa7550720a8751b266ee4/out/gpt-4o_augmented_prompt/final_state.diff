diff --git a/src/java/liquibase/ext/mssql/database/MSSQLDatabase.java b/src/java/liquibase/ext/mssql/database/MSSQLDatabase.java
index 9cbbca6..d348451 100644
--- a/src/java/liquibase/ext/mssql/database/MSSQLDatabase.java
+++ b/src/java/liquibase/ext/mssql/database/MSSQLDatabase.java
@@ -2,8 +2,14 @@ package liquibase.ext.mssql.database;
 
 import liquibase.CatalogAndSchema;
 import liquibase.exception.LiquibaseException;
-import liquibase.executor.ExecutorService;
+import liquibase.executor.Executor;
 import liquibase.ext.mssql.statement.DropStoredProcedureStatement;
+import liquibase.Scope;
+import liquibase.executor.ExecutorService;
+import liquibase.Scope;
+import liquibase.executor.ExecutorService;
+import liquibase.Scope;
+import liquibase.executor.ExecutorService;
 
 public class MSSQLDatabase extends liquibase.database.core.MSSQLDatabase {
     
@@ -16,5 +22,10 @@ public class MSSQLDatabase extends liquibase.database.core.MSSQLDatabase {
     public void dropDatabaseObjects(CatalogAndSchema schemaToDrop) throws LiquibaseException {
         super.dropDatabaseObjects(schemaToDrop);
         ExecutorService.getInstance().getExecutor(this).execute(new DropStoredProcedureStatement(this.getLiquibaseCatalogName(), this.getLiquibaseSchemaName()));
+        Executor executor = Scope.getCurrentScope().getSingleton(ExecutorService.class).getExecutor("jdbc", this);
+        executor.execute(new DropStoredProcedureStatement(this.getLiquibaseCatalogName(), this.getLiquibaseSchemaName()));
     }
-}
\ No newline at end of file
+}import liquibase.Scope;
+import liquibase.executor.ExecutorService;
+import liquibase.Scope;
+import liquibase.executor.ExecutorService;
diff --git a/src/java/liquibase/ext/mssql/sqlgenerator/AddPrimaryKeyGeneratorMSSQL.java b/src/java/liquibase/ext/mssql/sqlgenerator/AddPrimaryKeyGeneratorMSSQL.java
index 02c3ba0..3bfc0ac 100644
--- a/src/java/liquibase/ext/mssql/sqlgenerator/AddPrimaryKeyGeneratorMSSQL.java
+++ b/src/java/liquibase/ext/mssql/sqlgenerator/AddPrimaryKeyGeneratorMSSQL.java
@@ -9,7 +9,7 @@ import liquibase.sqlgenerator.SqlGeneratorChain;
 import liquibase.sqlgenerator.core.AddPrimaryKeyGenerator;
 import liquibase.statement.core.AddPrimaryKeyStatement;
 import liquibase.structure.core.Index;
-import liquibase.util.StringUtils;
+import liquibase.util.StringUtil;
 
 public class AddPrimaryKeyGeneratorMSSQL extends AddPrimaryKeyGenerator {
   @Override
@@ -64,7 +64,7 @@ public class AddPrimaryKeyGeneratorMSSQL extends AddPrimaryKeyGenerator {
     // the only new feature being added is support for fillFactor
     sql += " WITH (FILLFACTOR = " + statement.getFillFactor() + ")";
 
-    if (StringUtils.trimToNull(statement.getTablespace()) != null && database.supportsTablespaces()) {
+    if (StringUtil.trimToNull(statement.getTablespace()) != null && database.supportsTablespaces()) {
       sql += " ON "+statement.getTablespace();
     }
 
diff --git a/src/java/liquibase/ext/mssql/sqlgenerator/CreateIndexGeneratorMSSQL.java b/src/java/liquibase/ext/mssql/sqlgenerator/CreateIndexGeneratorMSSQL.java
index a4d49a7..1262853 100644
--- a/src/java/liquibase/ext/mssql/sqlgenerator/CreateIndexGeneratorMSSQL.java
+++ b/src/java/liquibase/ext/mssql/sqlgenerator/CreateIndexGeneratorMSSQL.java
@@ -9,7 +9,7 @@ import liquibase.sql.UnparsedSql;
 import liquibase.sqlgenerator.SqlGeneratorChain;
 import liquibase.sqlgenerator.core.CreateIndexGenerator;
 import liquibase.statement.core.CreateIndexStatement;
-import liquibase.util.StringUtils;
+import liquibase.util.StringUtil;
 
 import java.util.Arrays;
 import java.util.Iterator;
@@ -74,7 +74,7 @@ public class CreateIndexGeneratorMSSQL extends CreateIndexGenerator {
       builder.append(" WITH (FILLFACTOR = ").append(statement.getFillFactor()).append(")");
     }
     // This block simplified, since we know we have MSSQLDatabase
-    if (StringUtils.trimToNull(statement.getTablespace()) != null) {
+    if (StringUtil.trimToNull(statement.getTablespace()) != null) {
       builder.append(" ON ").append(statement.getTablespace());
     }
 