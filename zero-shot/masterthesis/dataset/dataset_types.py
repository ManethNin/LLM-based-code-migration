# generated by datamodel-codegen:
#   filename:  dataset_schema.json
#   timestamp: 2024-07-26T13:01:34+00:00

from __future__ import annotations

from typing import Dict, List, Optional

from pydantic import BaseModel


class DatasetEntry(BaseModel):
    suspicious_files: List[str]
    extracted_compilation_errors: Dict[str, List[List[str]]]
    initial_error_lines: str
    super_minified_error_lines: str
    api_changes: str
    minified_error_lines: str
    reproduction_log: str
    minimized_with_comments: Dict[str, str]
    minimized_no_comments: Dict[str, str]
    updated_dependency_diff: str
    file_in_scope: str
    repo_path: str
    version_upgrade_str: str
    repo_slug: str
    commit_hash: str
    prepared_file: Optional[str] = None
    data_path: Optional[str] = None


class DatasetOutput(BaseModel):
    patch: Optional[str]
    error: Optional[str]
    input: DatasetEntry
    diff_attempts: List[str]
    hop: int
    max_hops: Optional[int] = None
    raw_output: Optional[str] = None
    compiled_protocol: Optional[List[bool]] = None
    compiled: Optional[bool] = None
